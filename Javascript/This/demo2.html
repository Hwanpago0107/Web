<!DOCTYPE html>
<html>

<head>
    <title></title>
</head>

<body>
    <script>
        // 생성자 안에서 this
        // 그 생성자가 만든 객체를 가르킨다

        var funcThis = null;

        function Func() { //생성자
            funcThis = this;
            if (o2 === this) { // 생성자를 호출하게 되면 이 생성자 호출을 모두 끝내고 난 다음에
            // 변수에 할당하게 된다. 따라서 o2라는 객체는 만들어져있지만 이 생성자가 할당되지는 않은 상태이기때문에
            // o2를 아직 참조할 수가 없는 상태, 밑에 구문은 실행되지 않는다
            // 따라서 this는 객체에 대한 초기화가 끝나서 객체에 할당되기전에
            // 그 객체를 참고할 수 있는 식별자(reference)이기 때문에
            // this는 필수적으로 사용하는 키워드 이다.
                console.log('o2 == this </br>');
            }
        }
        var o1 = Func(); // 함수로 호출
        if (funcThis === window) { // 함수안에서 this는 마찬가지로 전역객체 window를 가리킨다
            document.write('window </br>');
        }
        var o2 = new Func(); //생성자를 통해 만들어진 객체 o2
        if (funcThis === o2) { //생성자로 사용될 때는 this의 값이 객체를 가리킨다
            document.write('o2 </br>')
        }
    </script>
</body>

</html>